<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Energy Analytics Platform</title>
    <link rel="stylesheet" href="./styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Urbanist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="main-header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">
                    <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 5L30 15L25 15L25 25L30 25L20 35L10 25L15 25L15 15L10 15L20 5Z" fill="currentColor"/>
                        <circle cx="20" cy="20" r="18" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </div>
                <div class="logo-text">
                    <h1>ENERGY<span class="accent">PULSE</span></h1>
                    <p class="tagline">AI-Driven Energy Intelligence</p>
                </div>
            </div>
            <nav class="main-nav">
                <button class="nav-btn active" data-view="dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    Dashboard
                </button>
                <button class="nav-btn" data-view="analytics">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 3v18h18"/>
                        <path d="M18 17l-5-5-4 4-6-6"/>
                    </svg>
                    Analytics
                </button>
                <button class="nav-btn" data-view="predictions">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    Predictions
                </button>
                <button class="nav-btn" data-view="devices">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="4" y="4" width="16" height="16" rx="2"/>
                        <rect x="9" y="9" width="6" height="6"/>
                    </svg>
                    Devices
                </button>
                <button class="nav-btn" data-view="insights">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                    Insights
                </button>
            </nav>
            <div class="header-actions">
                <button class="icon-btn" id="notificationBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                    </svg>
                    <span class="notification-badge">3</span>
                </button>
                <button class="icon-btn" id="settingsBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="main-content">
        <!-- Dashboard View -->
        <div class="view-container active" id="dashboard-view">
            <!-- Real-time Stats Bar -->
            <section class="stats-bar">
                <div class="stat-card primary">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Current Power</p>
                        <h2 class="stat-value" id="currentPower">2.34 kW</h2>
                        <p class="stat-change positive">
                            <span class="arrow">‚Üì</span> 12% vs last hour
                        </p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Today's Usage</p>
                        <h2 class="stat-value" id="todayUsage">24.5 kWh</h2>
                        <p class="stat-change negative">
                            <span class="arrow">‚Üë</span> 8% vs yesterday
                        </p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Est. Monthly Cost</p>
                        <h2 class="stat-value" id="monthlyCost">$148.20</h2>
                        <p class="stat-change positive">
                            <span class="arrow">‚Üì</span> $12 savings
                        </p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <p class="stat-label">Prediction Accuracy</p>
                        <h2 class="stat-value" id="accuracy">94.7%</h2>
                        <p class="stat-change positive">
                            <span class="arrow">‚Üë</span> LSTM Model
                        </p>
                    </div>
                </div>
            </section>

            <!-- Main Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Real-time Consumption Chart -->
                <section class="dashboard-card span-2">
                    <div class="card-header">
                        <h3>Real-Time Energy Flow</h3>
                        <div class="card-controls">
                            <select id="timeRangeSelect" class="control-select">
                                <option value="hour">Last Hour</option>
                                <option value="day" selected>Today</option>
                                <option value="week">This Week</option>
                                <option value="month">This Month</option>
                            </select>
                            <button class="icon-btn small">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 4 23 10 17 10"/>
                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <canvas id="realtimeChart"></canvas>
                    </div>
                </section>

                <!-- Device Consumption Breakdown -->
                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Device Distribution</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="devicePieChart"></canvas>
                    </div>
                    <div class="device-legend">
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--chart-1)"></span>
                            <span class="legend-label">HVAC</span>
                            <span class="legend-value">32%</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--chart-2)"></span>
                            <span class="legend-label">Water Heater</span>
                            <span class="legend-value">24%</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--chart-3)"></span>
                            <span class="legend-label">Refrigerator</span>
                            <span class="legend-value">18%</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--chart-4)"></span>
                            <span class="legend-label">Lighting</span>
                            <span class="legend-value">15%</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--chart-5)"></span>
                            <span class="legend-label">Others</span>
                            <span class="legend-value">11%</span>
                        </div>
                    </div>
                </section>

                <!-- Live Device Status -->
                <section class="dashboard-card span-2">
                    <div class="card-header">
                        <h3>Active Devices Monitor</h3>
                        <span class="status-indicator live">
                            <span class="pulse"></span> Live
                        </span>
                    </div>
                    <div class="card-body">
                        <div class="devices-grid" id="devicesGrid">
                            <!-- Devices will be populated by JS -->
                        </div>
                    </div>
                </section>

                <!-- Smart Suggestions -->
                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>AI Recommendations</h3>
                        <span class="badge-new">New</span>
                    </div>
                    <div class="card-body suggestions-container">
                        <div class="suggestion-item high-priority">
                            <div class="suggestion-icon">üí°</div>
                            <div class="suggestion-content">
                                <h4>Peak Hour Alert</h4>
                                <p>Reduce HVAC by 2¬∞C during 2-6 PM to save $8.50/day</p>
                                <div class="suggestion-meta">
                                    <span class="impact">High Impact</span>
                                    <span class="savings">~$255/mo</span>
                                </div>
                            </div>
                        </div>

                        <div class="suggestion-item medium-priority">
                            <div class="suggestion-icon">üåô</div>
                            <div class="suggestion-content">
                                <h4>Night Mode Optimization</h4>
                                <p>Water heater runs inefficiently at night. Schedule for off-peak hours.</p>
                                <div class="suggestion-meta">
                                    <span class="impact">Medium Impact</span>
                                    <span class="savings">~$45/mo</span>
                                </div>
                            </div>
                        </div>

                        <div class="suggestion-item low-priority">
                            <div class="suggestion-icon">‚ö°</div>
                            <div class="suggestion-content">
                                <h4>Phantom Load Detection</h4>
                                <p>7 devices drawing standby power. Consider smart plugs.</p>
                                <div class="suggestion-meta">
                                    <span class="impact">Low Impact</span>
                                    <span class="savings">~$12/mo</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Analytics View -->
        <div class="view-container" id="analytics-view">
            <section class="view-header">
                <h2>Energy Analytics</h2>
                <p class="subtitle">Comprehensive consumption patterns and trends</p>
            </section>

            <div class="analytics-controls">
                <div class="control-group">
                    <label>Analysis Period</label>
                    <select id="analyticsPeriod" class="control-select">
                        <option value="daily">Daily View</option>
                        <option value="weekly">Weekly View</option>
                        <option value="monthly" selected>Monthly View</option>
                        <option value="quarterly">Quarterly View</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Comparison Mode</label>
                    <select id="comparisonMode" class="control-select">
                        <option value="none">No Comparison</option>
                        <option value="previous">vs Previous Period</option>
                        <option value="average">vs Average</option>
                        <option value="baseline">vs Baseline</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Date Range</label>
                    <input type="date" id="startDate" class="control-input" value="2024-01-01">
                    <span class="range-separator">to</span>
                    <input type="date" id="endDate" class="control-input" value="2024-06-30">
                </div>
            </div>

            <div class="analytics-grid">
                <section class="dashboard-card span-3">
                    <div class="card-header">
                        <h3>Consumption Trends Analysis</h3>
                        <div class="card-controls">
                            <button class="toggle-btn active" data-chart="bar">Bar</button>
                            <button class="toggle-btn" data-chart="line">Line</button>
                            <button class="toggle-btn" data-chart="area">Area</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <canvas id="trendsChart"></canvas>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Hourly Heatmap</h3>
                    </div>
                    <div class="card-body">
                        <div id="heatmapContainer" class="heatmap-container">
                            <!-- Heatmap will be generated by JS -->
                        </div>
                    </div>
                </section>

                <section class="dashboard-card span-2">
                    <div class="card-header">
                        <h3>Device-wise Performance</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="deviceComparisonChart"></canvas>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Peak Usage Times</h3>
                    </div>
                    <div class="card-body">
                        <div class="peak-times-list">
                            <div class="peak-item">
                                <div class="peak-time">06:00 - 08:00</div>
                                <div class="peak-bar">
                                    <div class="peak-fill" style="width: 85%"></div>
                                </div>
                                <div class="peak-value">3.2 kW</div>
                            </div>
                            <div class="peak-item">
                                <div class="peak-time">18:00 - 20:00</div>
                                <div class="peak-bar">
                                    <div class="peak-fill" style="width: 95%"></div>
                                </div>
                                <div class="peak-value">3.6 kW</div>
                            </div>
                            <div class="peak-item">
                                <div class="peak-time">12:00 - 14:00</div>
                                <div class="peak-bar">
                                    <div class="peak-fill" style="width: 70%"></div>
                                </div>
                                <div class="peak-value">2.7 kW</div>
                            </div>
                            <div class="peak-item">
                                <div class="peak-time">22:00 - 00:00</div>
                                <div class="peak-bar">
                                    <div class="peak-fill" style="width: 60%"></div>
                                </div>
                                <div class="peak-value">2.3 kW</div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Statistical Summary</h3>
                    </div>
                    <div class="card-body stats-summary">
                        <div class="summary-item">
                            <span class="summary-label">Mean Daily Usage</span>
                            <span class="summary-value">28.4 kWh</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Std Deviation</span>
                            <span class="summary-value">¬±4.2 kWh</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Peak Day</span>
                            <span class="summary-value">42.1 kWh</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Lowest Day</span>
                            <span class="summary-value">18.3 kWh</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Total (6mo)</span>
                            <span class="summary-value">5,112 kWh</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Efficiency Score</span>
                            <span class="summary-value badge-success">82/100</span>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Predictions View -->
        <div class="view-container" id="predictions-view">
            <section class="view-header">
                <h2>AI-Powered Predictions</h2>
                <p class="subtitle">LSTM-based time series forecasting with 94.7% accuracy</p>
            </section>

            <div class="model-comparison-bar">
                <div class="model-card active">
                    <div class="model-icon lstm">LSTM</div>
                    <div class="model-info">
                        <h4>Deep Learning Model</h4>
                        <p>Long Short-Term Memory Network</p>
                    </div>
                    <div class="model-metrics">
                        <div class="metric">
                            <span class="metric-label">RMSE</span>
                            <span class="metric-value">0.142</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">MAE</span>
                            <span class="metric-value">0.098</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">R¬≤</span>
                            <span class="metric-value">0.947</span>
                        </div>
                    </div>
                </div>

                <div class="model-card">
                    <div class="model-icon baseline">LR</div>
                    <div class="model-info">
                        <h4>Baseline Model</h4>
                        <p>Linear Regression</p>
                    </div>
                    <div class="model-metrics">
                        <div class="metric">
                            <span class="metric-label">RMSE</span>
                            <span class="metric-value">0.284</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">MAE</span>
                            <span class="metric-value">0.215</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">R¬≤</span>
                            <span class="metric-value">0.782</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="predictions-grid">
                <section class="dashboard-card span-3">
                    <div class="card-header">
                        <h3>7-Day Forecast vs Actual</h3>
                        <div class="card-controls">
                            <label class="switch">
                                <input type="checkbox" id="showConfidenceInterval" checked>
                                <span class="slider"></span>
                            </label>
                            <span class="switch-label">Confidence Interval</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <canvas id="forecastChart"></canvas>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Prediction Calendar</h3>
                    </div>
                    <div class="card-body">
                        <div id="predictionCalendar" class="prediction-calendar">
                            <!-- Calendar will be generated by JS -->
                        </div>
                    </div>
                </section>

                <section class="dashboard-card span-2">
                    <div class="card-header">
                        <h3>Model Performance Over Time</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="modelPerformanceChart"></canvas>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Feature Importance</h3>
                    </div>
                    <div class="card-body">
                        <div class="feature-list">
                            <div class="feature-item">
                                <span class="feature-name">Hour of Day</span>
                                <div class="feature-bar">
                                    <div class="feature-fill" style="width: 92%"></div>
                                </div>
                                <span class="feature-score">0.92</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-name">Day of Week</span>
                                <div class="feature-bar">
                                    <div class="feature-fill" style="width: 78%"></div>
                                </div>
                                <span class="feature-score">0.78</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-name">Lag-1 Usage</span>
                                <div class="feature-bar">
                                    <div class="feature-fill" style="width: 85%"></div>
                                </div>
                                <span class="feature-score">0.85</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-name">Moving Avg (24h)</span>
                                <div class="feature-bar">
                                    <div class="feature-fill" style="width: 73%"></div>
                                </div>
                                <span class="feature-score">0.73</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-name">Temperature</span>
                                <div class="feature-bar">
                                    <div class="feature-fill" style="width: 65%"></div>
                                </div>
                                <span class="feature-score">0.65</span>
                            </div>
                            <div class="feature-item">
                                <span class="feature-name">Holiday Flag</span>
                                <div class="feature-bar">
                                    <div class="feature-fill" style="width: 48%"></div>
                                </div>
                                <span class="feature-score">0.48</span>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Next 24 Hours</h3>
                    </div>
                    <div class="card-body hourly-predictions">
                        <div class="hourly-scroll" id="hourlyPredictions">
                            <!-- Hourly predictions will be generated by JS -->
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Devices View -->
        <div class="view-container" id="devices-view">
            <section class="view-header">
                <h2>Device Management</h2>
                <p class="subtitle">Individual device monitoring and control</p>
            </section>

            <div class="devices-filter-bar">
                <div class="filter-group">
                    <button class="filter-btn active" data-room="all">All Devices</button>
                    <button class="filter-btn" data-room="living">Living Room</button>
                    <button class="filter-btn" data-room="kitchen">Kitchen</button>
                    <button class="filter-btn" data-room="bedroom">Bedroom</button>
                    <button class="filter-btn" data-room="bathroom">Bathroom</button>
                </div>
                <div class="search-group">
                    <input type="text" class="search-input" placeholder="Search devices...">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                </div>
            </div>

            <div class="devices-detailed-grid" id="devicesDetailed">
                <!-- Devices will be populated by JS -->
            </div>
        </div>

        <!-- Insights View -->
        <div class="view-container" id="insights-view">
            <section class="view-header">
                <h2>Smart Insights & Recommendations</h2>
                <p class="subtitle">AI-driven energy optimization strategies</p>
            </section>

            <div class="insights-grid">
                <section class="dashboard-card span-2 insight-highlight">
                    <div class="card-header">
                        <h3>Monthly Savings Opportunity</h3>
                        <div class="savings-badge">$312 Potential</div>
                    </div>
                    <div class="card-body">
                        <div class="opportunity-breakdown">
                            <div class="opportunity-item">
                                <div class="opportunity-header">
                                    <span class="opportunity-icon">üå°Ô∏è</span>
                                    <h4>HVAC Optimization</h4>
                                    <span class="opportunity-savings">$255</span>
                                </div>
                                <p>Implement smart scheduling and reduce peak-hour cooling by 2¬∞C</p>
                                <div class="opportunity-actions">
                                    <button class="btn-primary small">Apply Schedule</button>
                                    <button class="btn-secondary small">View Details</button>
                                </div>
                            </div>
                            <div class="opportunity-item">
                                <div class="opportunity-header">
                                    <span class="opportunity-icon">üíß</span>
                                    <h4>Water Heater Timing</h4>
                                    <span class="opportunity-savings">$45</span>
                                </div>
                                <p>Shift operation to off-peak hours (10 PM - 6 AM)</p>
                                <div class="opportunity-actions">
                                    <button class="btn-primary small">Set Timer</button>
                                    <button class="btn-secondary small">Learn More</button>
                                </div>
                            </div>
                            <div class="opportunity-item">
                                <div class="opportunity-header">
                                    <span class="opportunity-icon">üîå</span>
                                    <h4>Phantom Load Reduction</h4>
                                    <span class="opportunity-savings">$12</span>
                                </div>
                                <p>7 devices consuming standby power - use smart plugs or power strips</p>
                                <div class="opportunity-actions">
                                    <button class="btn-primary small">Show Devices</button>
                                    <button class="btn-secondary small">Shop Products</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Efficiency Score</h3>
                    </div>
                    <div class="card-body center-content">
                        <div class="circular-progress" data-score="82">
                            <svg viewBox="0 0 200 200">
                                <circle cx="100" cy="100" r="90" class="progress-bg"/>
                                <circle cx="100" cy="100" r="90" class="progress-fill" 
                                    style="stroke-dasharray: 565; stroke-dashoffset: 102"/>
                                <text x="100" y="100" class="progress-text">82</text>
                                <text x="100" y="130" class="progress-label">Score</text>
                            </svg>
                        </div>
                        <div class="score-breakdown">
                            <div class="score-item">
                                <span class="score-dot good"></span>
                                <span>Peak Avoidance: 88/100</span>
                            </div>
                            <div class="score-item">
                                <span class="score-dot good"></span>
                                <span>Device Efficiency: 79/100</span>
                            </div>
                            <div class="score-item">
                                <span class="score-dot average"></span>
                                <span>Off-Hour Usage: 72/100</span>
                            </div>
                            <div class="score-item">
                                <span class="score-dot poor"></span>
                                <span>Standby Power: 58/100</span>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="dashboard-card span-2">
                    <div class="card-header">
                        <h3>Usage Patterns & Behavioral Insights</h3>
                    </div>
                    <div class="card-body">
                        <div class="pattern-list">
                            <div class="pattern-item">
                                <div class="pattern-icon">üìä</div>
                                <div class="pattern-content">
                                    <h4>Weekday vs Weekend</h4>
                                    <p>Weekend consumption is 18% higher, primarily due to increased HVAC and entertainment device usage between 10 AM - 4 PM</p>
                                    <div class="pattern-chart-mini">
                                        <div class="mini-bar" style="height: 60%"><span>Mon</span></div>
                                        <div class="mini-bar" style="height: 55%"><span>Tue</span></div>
                                        <div class="mini-bar" style="height: 58%"><span>Wed</span></div>
                                        <div class="mini-bar" style="height: 62%"><span>Thu</span></div>
                                        <div class="mini-bar" style="height: 57%"><span>Fri</span></div>
                                        <div class="mini-bar" style="height: 85%"><span>Sat</span></div>
                                        <div class="mini-bar" style="height: 90%"><span>Sun</span></div>
                                    </div>
                                </div>
                            </div>

                            <div class="pattern-item">
                                <div class="pattern-icon">üåÖ</div>
                                <div class="pattern-content">
                                    <h4>Morning Surge Pattern</h4>
                                    <p>Consistent 6:30 AM peak detected. Water heater and HVAC activate simultaneously. Stagger by 30 minutes to reduce demand charge.</p>
                                    <div class="recommendation-tag">Automation Available</div>
                                </div>
                            </div>

                            <div class="pattern-item">
                                <div class="pattern-icon">üåô</div>
                                <div class="pattern-content">
                                    <h4>Night-time Inefficiency</h4>
                                    <p>Base load of 0.8 kW detected overnight (12 AM - 5 AM). 40% higher than optimal. Primary contributors: refrigerator defrost cycle and phantom loads.</p>
                                    <div class="recommendation-tag">Investigation Needed</div>
                                </div>
                            </div>

                            <div class="pattern-item">
                                <div class="pattern-icon">‚òÄÔ∏è</div>
                                <div class="pattern-content">
                                    <h4>Solar Opportunity</h4>
                                    <p>Analysis shows 65% of consumption occurs during daylight hours. Solar installation could offset 4.2 kW average daytime load.</p>
                                    <div class="recommendation-tag">Long-term Investment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="dashboard-card">
                    <div class="card-header">
                        <h3>Cost Projection</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="costProjectionChart"></canvas>
                        <div class="projection-summary">
                            <div class="projection-item current">
                                <span class="projection-label">Current Path</span>
                                <span class="projection-value">$1,778/year</span>
                            </div>
                            <div class="projection-item optimized">
                                <span class="projection-label">With Optimizations</span>
                                <span class="projection-value">$1,034/year</span>
                            </div>
                            <div class="projection-item savings">
                                <span class="projection-label">Annual Savings</span>
                                <span class="projection-value success">$744</span>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="dashboard-card span-3">
                    <div class="card-header">
                        <h3>Actionable Recommendations Timeline</h3>
                    </div>
                    <div class="card-body">
                        <div class="timeline">
                            <div class="timeline-item immediate">
                                <div class="timeline-marker"></div>
                                <div class="timeline-content">
                                    <h4>Immediate (This Week)</h4>
                                    <ul>
                                        <li>Install smart power strips in entertainment center - $12/mo savings</li>
                                        <li>Adjust HVAC schedule to avoid 2-6 PM peak - $85/mo savings</li>
                                        <li>Enable water heater timer for off-peak operation - $15/mo savings</li>
                                    </ul>
                                    <div class="timeline-impact">Total Impact: $112/month</div>
                                </div>
                            </div>

                            <div class="timeline-item short">
                                <div class="timeline-marker"></div>
                                <div class="timeline-content">
                                    <h4>Short-term (This Month)</h4>
                                    <ul>
                                        <li>Replace 12 incandescent bulbs with LED - $8/mo savings</li>
                                        <li>Install programmable thermostat - $45/mo savings</li>
                                        <li>Seal HVAC ducts and improve insulation - $32/mo savings</li>
                                    </ul>
                                    <div class="timeline-impact">Total Impact: $85/month</div>
                                </div>
                            </div>

                            <div class="timeline-item medium">
                                <div class="timeline-marker"></div>
                                <div class="timeline-content">
                                    <h4>Medium-term (3-6 Months)</h4>
                                    <ul>
                                        <li>Upgrade to ENERGY STAR refrigerator - $18/mo savings</li>
                                        <li>Install heat pump water heater - $35/mo savings</li>
                                        <li>Add window films/treatments for thermal efficiency - $22/mo savings</li>
                                    </ul>
                                    <div class="timeline-impact">Total Impact: $75/month</div>
                                </div>
                            </div>

                            <div class="timeline-item long">
                                <div class="timeline-marker"></div>
                                <div class="timeline-content">
                                    <h4>Long-term (6-12 Months)</h4>
                                    <ul>
                                        <li>Solar panel installation (4.5 kW system) - $125/mo savings</li>
                                        <li>Upgrade to high-efficiency HVAC system - $95/mo savings</li>
                                        <li>Install home battery storage for peak shaving - $48/mo savings</li>
                                    </ul>
                                    <div class="timeline-impact">Total Impact: $268/month</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <p>Loading energy data...</p>
        </div>
    </div>

    <script src="./app.js"></script>
</body>
</html>
